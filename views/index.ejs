<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="../stylesheets/style.css">
</head>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">

<body>
  
  <h1>Register here :</h1>
  <form action="/register" method="post">
    <input id="inp" type="text" name="username" placeholder="username">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.4.0/axios.min.js" integrity="sha512-uMtXmF28A2Ab/JJO2t/vYhlaa/3ahUOgj1Zf27M5rOo8/+fcTUVH0/E0ll68njmjrLqOBjXM3V9NiPFL5ywWPQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script>
      var input= document.querySelector("#inp");
      input.addEventListener("input",function(){
        var user=input.value.trim();
        if(user.length>0){
          axios.get(`/username/${user}`).then((data)=>
        {
          if(data.data.found){
          input.style.outlineColor="red";
          document.querySelector("#submit").setAttribute("disabled","false");
          }
          else
          {
            input.style.outlineColor="black";
            document.querySelector("#submit").removeAttribute("disabled","true");
          }
          })
        }
        else{
          input.style.outlineColor="black";
        }
        
      })
    </script>
    
    <input type="email" name="email" placeholder="email" id="">
    <input type="number" name="number" placeholder="number" id="">
    <input type="password" name="password" placeholder="password" id="">
    <input type="submit" id="submit" >

  </form>
  <h1>Login here</h1>
  <form action="/login" method="post">
    <input type="text" name="username" placeholder="username" id="">
    <input type="password" name="password" placeholder="password" id="">
    <input type="submit" >
  </form>
  <% include ./partials/footer.ejs%>
</body>
</html>